:root {
    --color-accent: white;
    accent-color: var(--color-accent);
    --text-strong: color-mix(in oklch, canvastext 95%, canvas 5%);
    --text-default: color-mix(in oklch, canvastext 85%, canvas 15%);
    --text-muted: color-mix(in oklch, canvastext 70%, canvas 30%);
    --text-subtle: color-mix(in oklch, canvastext 55%, canvas 45%);
    --text-faint: color-mix(in oklch, canvastext 45%, canvas 55%);
    --nav-bg: rgba(0, 0, 0, 0.1);
    --nav-border-color: color-mix(in oklch, canvastext 18%, canvas 82%);
    --nav-link-color: var(--text-muted);
    --nav-link-hover-color: var(--text-strong);
    --nav-link-active-color: var(--text-strong);
    --nav-brand-color: var(--text-strong);
    --nav-cta-text-color: var(--text-strong);
    --nav-cta-border-color: color-mix(in oklch, canvastext 22%, canvas 78%);
    --nav-cta-border-hover-color: color-mix(in oklch, canvastext 36%, canvas 64%);
    --nav-bg-tint: var(--nav-bg);
    --pie-selected-color: oklch(0.6 0.45 0);
}

html {
    color-scheme: light dark;
}

html[data-color-scheme="light"] {
    --nav-bg: color-mix(in oklch, canvas 96%, canvastext 4%);
    --nav-border-color: color-mix(in oklch, canvastext 28%, canvas 72%);
    --nav-link-color: color-mix(in oklch, canvastext 58%, canvas 42%);
    --nav-link-hover-color: color-mix(in oklch, canvastext 78%, canvas 22%);
    --nav-link-active-color: color-mix(in oklch, canvastext 82%, canvas 18%);
    --nav-brand-color: color-mix(in oklch, canvastext 90%, canvas 10%);
    --nav-cta-text-color: color-mix(in oklch, canvastext 88%, canvas 12%);
    --nav-cta-border-color: color-mix(in oklch, canvastext 32%, canvas 68%);
    --nav-cta-border-hover-color: color-mix(in oklch, canvastext 48%, canvas 52%);
    --nav-bg-tint: color-mix(in oklch, var(--nav-bg) 55%, transparent 45%);
}

@media (prefers-color-scheme: light) {
    html:not([data-color-scheme]),
    html[data-color-scheme="auto"] {
        --nav-bg: color-mix(in oklch, canvas 96%, canvastext 4%);
        --nav-border-color: color-mix(in oklch, canvastext 28%, canvas 72%);
        --nav-link-color: color-mix(in oklch, canvastext 58%, canvas 42%);
        --nav-link-hover-color: color-mix(in oklch, canvastext 78%, canvas 22%);
        --nav-link-active-color: color-mix(in oklch, canvastext 82%, canvas 18%);
        --nav-brand-color: color-mix(in oklch, canvastext 90%, canvas 10%);
        --nav-cta-text-color: color-mix(in oklch, canvastext 88%, canvas 12%);
        --nav-cta-border-color: color-mix(in oklch, canvastext 32%, canvas 68%);
        --nav-cta-border-hover-color: color-mix(in oklch, canvastext 48%, canvas 52%);
        --nav-bg-tint: color-mix(in oklch, var(--nav-bg) 55%, transparent 45%);
    }
}


body {
    font: 100%/1.5 system-ui;
    max-width: 100vw;
    margin-inline: max(1em, (100% - 100ch) / 2);
    background-color: canvas;
    color: var(--text-default);
}

body :is(p, li, span) {
    color: inherit;
}

/* Navigation */
.site-nav {
    width: 100%;
    max-width: 48rem;
    margin: 0 auto;
    padding: 0 1.5rem;
    box-sizing: border-box;
    height: 3.5rem;
    display: flex;
    align-items: center;
    justify-content: flex-start;
    font-size: 0.875rem;
    column-gap: 1.25rem;
}

@media (min-width: 40rem) {
    .site-nav {
        padding-left: 2rem;
        padding-right: 2rem;
    }
}

.site-nav__brand {
    margin-right: auto;
    font-weight: 600;
    letter-spacing: -0.01em;
    color: var(--nav-brand-color);
    text-decoration: none;
    transition: opacity 150ms ease-in-out;
}

.site-nav__list {
    display: none;
    list-style: none;
    margin: 0;
    padding: 0;
}

.site-nav__item {
    display: block;
}

.site-nav__link {
    color: var(--nav-link-color);
    text-decoration: none;
    transition: color 150ms ease-in-out;
}

.site-nav__link:hover,
.site-nav__link:focus-visible {
    color: var(--nav-link-hover-color);
}

.site-nav__link.current {
    color: var(--nav-link-active-color);
    text-decoration: underline;
    text-decoration-thickness: 0.15em;
    text-underline-offset: 0.35em;
}

.site-nav__cta {
    border: 1px solid var(--nav-cta-border-color);
    border-radius: 0.375rem;
    padding: 0.25rem 0.75rem;
    transition: border-color 150ms ease-in-out, color 150ms ease-in-out;
    color: var(--nav-cta-text-color);
}

.site-nav__cta:hover,
.site-nav__cta:focus-visible {
    border-color: var(--nav-cta-border-hover-color);
}

@media (min-width: 40rem) {
    .site-nav__list {
        display: contents;
    }

    .site-nav__item {
        display: contents;
    }

    .site-nav__cta {
        margin-left: 0.5rem;
    }
}

/* Subtle scrollbar */
::-webkit-scrollbar {
    width: 10px;
    height: 10px
}

::-webkit-scrollbar-thumb {
    background: #1f2430;
    border-radius: 999px
}

html {
    scroll-behavior: smooth
}

.focus-ring:focus-visible {
    outline: 2px solid #fff;
    outline-offset: 2px
}

.link {
    text-underline-offset: 4px;
    text-decoration-thickness: 1px
}

/* Reusable utilities to trim repeated class lists */
.chip {
    padding: 0.25rem 0.625rem;
    /* py-1 px-2.5 */
    border-radius: 0.375rem;
    /* rounded-md */
    border: 1px solid color-mix(in oklch, canvastext 18%, canvas 82%);
    /* border adapts */
    color: var(--text-muted);
    /* adaptive text color */
}

.writing-card {
    border-radius: 1rem;
    /* rounded-2xl */
    border: 1px solid color-mix(in oklch, canvastext 16%, canvas 84%);
    /* adaptive border */
    padding: 1rem;
    /* p-4 */
    transition: all 150ms ease-in-out;
    /* transition */
}

#projects-pie-plot {
    max-width: 20em;
    margin-block: 2em;
    overflow: visible;
}

#projects-pie-plot path {
    transition: opacity 240ms ease, fill 240ms ease;
    cursor: pointer;
}

#projects-pie-plot:has(path:hover) path:not(:hover) {
    opacity: 0.45;
}

#projects-pie-plot path.selected {
    fill: var(--pie-selected-color);
}

.project-pie-chart {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    justify-content: flex-start;
    gap: 1.5rem;
}

@media (min-width: 768px) {
    .project-pie-chart {
        align-items: flex-start;
        justify-content: flex-start;
    }
}

.legend {
    list-style: none;
    margin: 0;
    padding: 1rem;
    border: 1px solid color-mix(in oklch, canvastext 18%, canvas 82%);
    border-radius: 0.75rem;
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(9em, 1fr));
    gap: 1rem;
    flex: 1;
    min-width: min(22rem, 100%);
}

.legend__item {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    color: var(--text-muted);
    cursor: pointer;
    border-radius: 0.75rem;
    border: 1px solid transparent;
    padding: 0.5rem 0.75rem;
    transition: border-color 160ms ease, background-color 160ms ease, color 160ms ease;
}

.legend__swatch {
    display: inline-block;
    width: 1rem;
    height: 1rem;
    border-radius: 0.25rem;
    background-color: var(--color);
    flex-shrink: 0;
}

.legend__item em {
    font-style: normal;
    color: var(--text-subtle);
}

.legend__item.selected {
    --color: var(--pie-selected-color);
    color: var(--text-strong);
    border-color: color-mix(in oklch, var(--pie-selected-color) 40%, transparent 60%);
    background-color: color-mix(in oklch, var(--pie-selected-color) 16%, transparent 84%);
}

.legend__item:hover {
    border-color: color-mix(in oklch, var(--pie-selected-color) 25%, transparent 75%);
}

.legend__item:focus-visible {
    outline: 2px solid color-mix(in oklch, var(--pie-selected-color) 45%, transparent 55%);
    outline-offset: 2px;
}

.writing-card:hover {
    border-color: color-mix(in oklch, canvastext 32%, canvas 68%);
    /* hover border */
}

.writing-filter {
    padding: 0.25rem 0.5rem;
    /* px-2 py-1 */
    border-radius: 9999px;
    /* rounded-full */
    border: 1px solid color-mix(in oklch, canvastext 22%, canvas 78%);
    /* adaptive border */
    transition: border-color 150ms ease-in-out;
}

.writing-filter:hover {
    border-color: color-mix(in oklch, canvastext 38%, canvas 62%);
    /* hover border */
}

.project-main {
    max-width: 84rem;
}

.project-hero {
    border-bottom: 1px solid color-mix(in oklch, canvastext 14%, canvas 86%);
}

.project-eyebrow {
    letter-spacing: 0.35em;
    font-size: 0.75rem;
    text-transform: uppercase;
}

.project-intro {
    max-width: 40rem;
}

.project-summary {
    background: color-mix(in oklch, canvas 88%, transparent 12%);
    border: 1px solid color-mix(in oklch, canvastext 12%, canvas 88%);
    border-radius: 1.5rem;
    padding: 1.75rem;
    backdrop-filter: blur(30px);
    box-shadow: 0 12px 30px rgba(0, 0, 0, 0.25);
}

.project-summary__item {
    display: flex;
    gap: 0.875rem;
    align-items: flex-start;
    margin-bottom: 1.1rem;
}

.project-summary__item:last-child {
    margin-bottom: 0;
}

.project-summary__bullet {
    width: 0.5rem;
    height: 0.5rem;
    border-radius: 999px;
    background: var(--color-accent);
    margin-top: 0.45rem;
    flex-shrink: 0;
    box-shadow: 0 0 12px rgba(255, 255, 255, 0.35);
    opacity: 0.8;
}

.project-summary__title {
    font-size: 1rem;
    font-weight: 600;
    color: var(--text-strong);
}

.project-summary__footer {
    border-top: 1px solid color-mix(in oklch, canvastext 12%, canvas 88%);
    padding-top: 1.25rem;
    margin-top: 1.5rem;
    color: var(--text-muted);
}

.project-hero__intro {
    max-width: clamp(38rem, 70%, 56rem);
}

.project-hero__aside {
    margin-top: 2rem;
    display: flex;
    flex-direction: column;
    gap: 2.5rem;
}

.project-search {
    margin-top: 0;
    width: 100%;
}

.project-search__input {
    width: 100%;
    padding: 0.75rem 1rem;
    border-radius: 0.85rem;
    border: 1px solid color-mix(in oklch, canvastext 16%, canvas 84%);
    background-color: color-mix(in oklch, canvas 94%, transparent 6%);
    color: var(--text-default);
    transition: border-color 150ms ease-in-out, box-shadow 150ms ease-in-out;
}

.project-search__input::placeholder {
    color: var(--text-muted);
}

.project-search__input:focus-visible {
    outline: none;
    border-color: color-mix(in oklch, canvastext 36%, canvas 64%);
    box-shadow: 0 0 0 0.2rem color-mix(in oklch, canvastext 12%, transparent 88%);
}

@media (min-width: 992px) {
    .project-hero__aside {
        margin-top: 0;
    }
}

@media (min-width: 1200px) {
    .project-hero__aside {
        padding-left: 1.5rem;
    }
}

.letter-spaced {
    letter-spacing: 0.32em;
}

.catalog-subtitle {
    font-size: 0.9rem;
}

.project-catalog {
    border-top: 1px solid color-mix(in oklch, canvastext 12%, canvas 88%);
    padding-top: 3rem;
    margin-top: 3rem;
}

.project-card {
    padding: 1.5rem;
    border-radius: 1.25rem;
    border: 1px solid color-mix(in oklch, canvastext 14%, canvas 86%);
    background: color-mix(in oklch, canvas 92%, transparent 8%);
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
    transition: transform 180ms ease, border-color 180ms ease, box-shadow 180ms ease;
}

.project-card:hover {
    transform: translateY(-4px);
    border-color: color-mix(in oklch, canvastext 32%, canvas 68%);
    box-shadow: 0 18px 40px rgba(0, 0, 0, 0.35);
}

.project-card__group {
    letter-spacing: 0.32em;
    font-size: 0.68rem;
    color: var(--text-muted);
    text-transform: uppercase;
}

.project-card__meta {
    margin-bottom: 0.5rem;
}

.project-card__meta span:last-child {
    color: var(--text-subtle);
}

.project-card img {
    border-radius: 0.75rem;
}

.github-stats__content {
    width: 100%;
}

.github-stats__list {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(8rem, 1fr));
    grid-auto-flow: column;
    gap: 0.75rem 2rem;
    margin: 0;
    padding: 0;
}

.github-stats__list dt,
.github-stats__list dd {
    margin: 0;
}

.github-stats__list dt {
    text-transform: uppercase;
    letter-spacing: 0.28em;
    font-size: 0.68rem;
    color: var(--text-muted);
    grid-row: 1;
}

.github-stats__list dd {
    grid-row: 2;
    font-size: 1.5rem;
    font-weight: 600;
    color: var(--text-strong);
}

.github-stats__updated {
    color: var(--text-muted);
}

/* Align contact form fields with CSS Grid */
#contact .contact-form {
    display: grid;
    grid-template-columns: auto 1fr;
    gap: 1em;
}

#contact .contact-form__field {
    display: grid;
    grid-column: 1 / -1;
    grid-template-columns: subgrid;
    column-gap: 1em;
    align-items: start;
}

#contact .contact-form__label {
    font-size: 0.875rem;
    color: var(--text-subtle);
    text-align: right;
}

#contact .contact-form__field input,
#contact .contact-form__field textarea {
    width: 100%;
}

#contact .contact-form__field textarea {
    min-height: 8rem;
    align-self: stretch;
    resize: vertical;
}

#contact .contact-form__submit {
    grid-column: 1 / -1;
    justify-self: end;
}

@media (max-width: 40rem) {
    #contact .contact-form {
        grid-template-columns: 1fr;
    }

    #contact .contact-form__field {
        grid-template-columns: 1fr;
        row-gap: 0.5em;
    }

    #contact .contact-form__label {
        text-align: left;
    }

    #contact .contact-form__submit {
        justify-self: stretch;
    }
}

@media print {
    body {
        background: #fff !important;
        color: #000 !important
    }

    a {
        color: #000 !important;
        text-decoration: underline
    }

    .no-print {
        display: none !important
    }

    .print-only {
        display: block !important
    }
}

.title-gradient {
    background-color: #9eadf1;
    background-image: linear-gradient(90deg, #EAECC6, #2BC0E4);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    color: transparent;
}

html[data-color-scheme="light"] .title-gradient {
    background-image: linear-gradient(90deg, #1E90FF, #7C3AED 55%, #EF4444 100%);
}

@media (prefers-color-scheme: light) {
    html:not([data-color-scheme]) .title-gradient,
    html[data-color-scheme="auto"] .title-gradient {
        background-image: linear-gradient(90deg, #1E90FF, #7C3AED 55%, #EF4444 100%);
    }
}

.force-diff {
    line-height: 1.7 !important;
}

/* Replacing Tailwind @apply (requires build) with plain CSS */
.mark {
    padding-left: 0.625rem;
    /* px-2.5 */
    padding-right: 0.625rem;
    /* px-2.5 */
    padding-top: 0.25rem;
    /* py-1 */
    padding-bottom: 0.25rem;
    /* py-1 */
    font-size: 12px;
    /* text-[12px] */
    text-transform: uppercase;
    /* uppercase */
    margin: 0.25rem;
    /* m-1 */
    display: inline-block;
    /* inline-block */
    border-radius: 0.375rem;
    /* rounded-md */
}

.program {
    color: #22d3ee;
    /* text-cyan-400 */
    background-color: rgba(34, 211, 238, 0.1);
    /* bg-cyan-400/10 */
}

.ml {
    color: #34d399;
    /* text-green-400 */
    background-color: rgba(52, 211, 153, 0.1);
    /* bg-green-400/10 */
}

.alg {
    color: #a78bfa;
    /* text-purple-400 */
    background-color: rgba(167, 139, 250, 0.1);
    /* bg-purple-400/10 */
}
header[data-generated-nav="true"] {
    --border-color: var(--nav-border-color);
    border-bottom-color: var(--border-color);
    background-color: var(--nav-bg-tint) !important;
    color: var(--nav-brand-color);
    box-shadow: 0 12px 32px color-mix(in oklch, canvastext 10%, transparent);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
}

.projects-page main {
    width: min(50vw, 56rem);
}

@media (max-width: 1024px) {
    .projects-page main {
        width: min(90vw, 48rem);
    }
}

input,
textarea,
button,
select {
    font: inherit;
    color: inherit;
}

:where(.text-gray-100) {
    color: color-mix(in oklch, canvastext 92%, canvas 8%) !important;
}

:where(.text-gray-200) {
    color: color-mix(in oklch, canvastext 88%, canvas 12%) !important;
}

:where(.text-gray-300) {
    color: color-mix(in oklch, canvastext 80%, canvas 20%) !important;
}

:where(.text-gray-400) {
    color: var(--text-muted) !important;
}

:where(.text-gray-500) {
    color: var(--text-subtle) !important;
}

:where(.text-gray-600) {
    color: var(--text-faint) !important;
}

:where(.text-gray-700) {
    color: color-mix(in oklch, canvastext 35%, canvas 65%) !important;
}

.color-scheme {
    position: absolute;
    top: 5rem;
    right: min(1.75rem, 4vw);
    display: inline-flex;
    align-items: center;
    gap: 0.4rem;
    padding: 0.35rem 0.85rem;
    border-radius: 999px;
    font-size: 0.75rem;
    text-transform: uppercase;
    letter-spacing: 0.08em;
    background-color: color-mix(in oklch, canvas 88%, canvastext 12%);
    color: color-mix(in oklch, canvastext 82%, canvas 18%);
    border: 1px solid color-mix(in oklch, canvastext 20%, canvas 80%);
    box-shadow: 0 8px 24px color-mix(in oklch, canvastext 10%, transparent);
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
    z-index: 40;
    position: fixed;
}

.color-scheme::after {
    content: '';
    position: absolute;
    top: 50%;
    right: 1rem;
    width: 0.45rem;
    height: 0.45rem;
    border: 1px solid currentColor;
    border-left: none;
    border-top: none;
    transform: translateY(-50%) rotate(45deg);
    opacity: 0.5;
    pointer-events: none;
}

.color-scheme select {
    min-width: 7rem;
    padding: 0.2rem 1.2rem 0.2rem 0.4rem;
    border-radius: 999px;
    border: none;
    background: transparent;
    font-size: 0.72rem;
    font-weight: 500;
    letter-spacing: 0.05em;
    color: inherit;
    cursor: pointer;
    appearance: none;
    -webkit-appearance: none;
}

.color-scheme select option {
    color: color-mix(in oklch, canvastext 85%, canvas 15%);
    background-color: canvas;
}

.color-scheme select:focus-visible {
    outline: none;
}

.color-scheme:focus-within {
    border-color: color-mix(in oklch, canvastext 32%, canvas 68%);
    box-shadow: 0 10px 28px color-mix(in oklch, canvastext 14%, transparent);
}

.theme-highlight {
    font-weight: 600;
    color: color-mix(in oklch, canvastext 94%, canvas 6%);
}

html[data-color-scheme="light"] .theme-highlight {
    color: var(--text-strong);
}

@media (prefers-color-scheme: light) {
    html:not([data-color-scheme]) .theme-highlight,
    html[data-color-scheme="auto"] .theme-highlight {
        color: var(--text-strong);
    }
}

@media (max-width: 40rem) {
    .color-scheme {
        top: 4.5rem;
        right: 1rem;
        font-size: 0.75rem;
    }

    .color-scheme select {
        min-width: 7rem;
    }
}
